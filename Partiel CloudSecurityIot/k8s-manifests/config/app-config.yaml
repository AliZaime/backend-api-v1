apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config
  namespace: default
data:
  # Internal Ports (matches our hardcoded ports)
  AUTH_PORT: "8001"
  MANAGEMENT_PORT: "8002"
  MONITORING_PORT: "8003"

  # Service URLs (names match K8s services)
  AUTH_SERVICE_URL: "http://auth-service:8001"
  MONITORING_API_URL: "http://device-monitoring:8003"

  # Databases
  POSTGRES_HOST_AUTH: "auth-db"
  POSTGRES_HOST_MGMT: "mgmt-db"
  POSTGRES_USER: "admin"
  AUTH_DB_NAME: "db_auth"
  MANAGEMENT_DB_NAME: "db_devices"

  REDIS_HOST: "redis"
  REDIS_PORT: "6379"
  REDIS_URL: "redis://redis:6379/1"

  MONGO_HOST: "mongodb"
  MONGO_PORT: "27017"
  MONGO_DB_NAME: "monitoring_db"
  MONGO_URI: "mongodb://mongodb:27017"

  # Messaging
  RABBITMQ_HOST: "rabbitmq"
  MQTT_BROKER_HOST: "rabbitmq"
  MQTT_PUBLISH_INTERVAL: "1"
  # Allow guest from any IP (for local dev)
  RABBITMQ_CONFIG: "loopback_users = none"
